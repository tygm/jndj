<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<%- include("../common/header"); %>

    <body>
        <div id="wrapper">
            <%- include('../common/nav'); %>
                <!-- /. NAV SIDE  -->
                <div id="page-wrapper">
                    <div class="header">
                        <h1 class="page-header">
                            添加轮播图
                            <small></small>
                        </h1>

                    </div>

                    <div id="page-inner">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        添加
                                    </div>
                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="col-lg-6 form-bottom">
                                                <form id="form" role="form" method="POST" action="/banner/add" enctype="multipart/form-data">

                                                    <div class="form-group">
                                                        <label>标题</label>
                                                        <input name="name" class="form-control" placeholder="">
                                                    </div>
                                                    <input name="type" type="hidden" value="1">
                                                    <div class="form-group">
                                                        <label>详细内容</label>
                                                        <textarea name="descs" id="content" class="form-control" placeholder="" style="height: 200px;"></textarea>
                                                        <div id="contentDiv"></div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label>轮播图</label>
                                                        <input name="file1" type="file" accept="image/*" class="form-control" placeholder="">
                                                    </div>
                                                    <div class="form-group">
                                                        <label>排序</label>
                                                        <input name="orders" type="number" class="form-control" placeholder="显示的顺序，数字越大越靠前">
                                                    </div>
                                                    <button type="submit" class="btn btn-default btn-block">提交</button>
                                                </form>
                                            </div>
                                        </div>
                                        <!-- /.row (nested) -->
                                    </div>
                                    <!-- /.panel-body -->
                                </div>
                                <!-- /.panel -->
                            </div>
                            <!-- /.col-lg-12 -->
                        </div>
                    </div>
                    <!-- /. PAGE INNER  -->
                </div>
                <!-- /. PAGE WRAPPER  -->
        </div>
        <!-- /. WRAPPER  -->
        <!-- JS Scripts-->
        <!-- jQuery Js -->
        <%- include("../common/footerJs")%>

            <script>
                jQuery(document).ready(function () {

                    /*
                        Fullscreen background
                    */
                    /*
                        Form validation
                    */
                    $('input').on(
                        'focus',
                        function () {
                            $(this).removeClass('input-error');
                        });
                    $('#form').on('submit', function (e) {
                        $(this).find('input, textarea').each(function () {
                            if ($(this).val() == "") {
                                e.preventDefault();
                                $(this).addClass('input-error');
                            } else {
                                $(this).removeClass('input-error');
                            }
                        });
                        $(this).find('select').each(function () {
                            console.log("select", $(this).val())
                            if (!$(this).val()) {
                                e.preventDefault();
                                $(this).addClass('input-error');
                            } else {
                                $(this).removeClass('input-error');
                            }
                        });
                    });
                });
                if (enableWangEditor) {
                    enableWangEditor("contentDiv", "content")
                } else {
                    alert("加载文本编辑器失败")
                }
            </script>
    </body>

</html>