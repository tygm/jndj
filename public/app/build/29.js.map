{"version":3,"sources":["../../src/pages/activity/activitylist/activitylist.module.ts","../../src/pages/activity/activitylist/activitylist.ts"],"names":[],"mappings":"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","file":"29.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ActivitylistPage } from './activitylist';\n\n@NgModule({\n  declarations: [\n    ActivitylistPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ActivitylistPage),\n  ],\n})\nexport class ActivitylistPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/activity/activitylist/activitylist.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController } from 'ionic-angular';\nimport { Http, Headers } from '@angular/http';\nimport { AppConfig } from '../../../app/app.config';\nimport 'rxjs/add/operator/map';\n/**\n * Generated class for the ActivitylistPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n    selector: 'page-activitylist',\n    templateUrl: 'activitylist.html',\n})\nexport class ActivitylistPage {\n    url = AppConfig.getUrl() + \"/xfwSpider/shyk\";\n    peopleurl = AppConfig.getUrl() + \"/xfwSpider/xueshiusers?cookie=\" + localStorage.xfwcookie;\n    newurl = AppConfig.getUrl() + \"/xfwSpider/xueshiadd\"\n    loginmess: any;\n    activity: string;\n    traintimeString = \"\"\n    trainway = \"\"\n    content = \"\"\n    list = [];\n    addtype=false;\n    table = {\n        cookie: localStorage.xfwcookie,\n        nameid: \"\",\n        name: \"\"\n    };\n\n    constructor(public navCtrl: NavController, public navParams: NavParams, public http: Http, public loadingCtrl: LoadingController, public alertCtrl: AlertController) {\n    }\n\n    ionViewDidLoad() {\n        console.log('ionViewDidLoad ActivitylistPage');\n        this.activity = \"0\";\n        this.get();\n        if (localStorage.xfwcookie) {\n            this.addtype = true;\n        }\n    }\n    get() {\n        if (this.activity != \"4\") {\n            this.loginmess = { cookie: localStorage.xfwcookie, shykType: this.activity }\n            let loading = this.loadingCtrl.create({\n                content: '加载中...'\n            });\n            loading.present();\n            this.list = [];\n            return new Promise((resolve, reject) => {\n                this.http.post(this.url, null, { params: this.loginmess })\n                    .map(res => res.json())\n                    .subscribe(data => {\n                        loading.dismiss();\n                        resolve(data)\n                        console.log(data);\n                        if (data.status) {\n                            for (let i = 0; i < data.data.length; i++) {\n                                this.list.push({\n                                    id: data.data[i][data.data[i].length - 1].id,\n                                    title: data.data[i][0].text,\n                                    time: data.data[i][1].text\n                                })\n                            }\n                            console.log(this.list)\n                        } else {\n                            let alert = this.alertCtrl.create({\n                                title: data.msg\n                            });\n                            alert.present();\n                        }\n                    }, err => {\n                        reject(err)\n                        loading.dismiss();\n                        console.log(err);\n                        let alert = this.alertCtrl.create({\n                            title: '服务器连接失败!'\n                        });\n                        alert.present();\n                    })\n            })\n        }\n    }\n    more(id) {\n        this.navCtrl.push(\"ActicitymorePage\", { \"id\": id, shykType: this.activity })\n    }\n    delete(id) {\n        console.log(1);\n\n    }\n    add() {\n        this.navCtrl.push(\"ActicityaddPage\")\n    }\n    people() {\n        let loading = this.loadingCtrl.create({\n            content: '加载中...'\n        });\n        loading.present();\n        return new Promise((resolve, reject) => {\n            this.http.get(this.peopleurl)\n                .map(res => res.json())\n                .subscribe(data => {\n                    resolve(data);\n                    if (data.status) {\n                        var peoplearr = [];\n                        let alert = this.alertCtrl.create();\n                        alert.setTitle('选择参加人员');\n                        for (let i = 0; i < data.data.length; i++) {\n                            alert.addInput({\n                                type: 'checkbox',\n                                label: data.data[i].name,\n                                value: data.data[i].name,\n                            });\n                            peoplearr.push({\n                                name: data.data[i].name,\n                                id: data.data[i].id\n                            })\n                        }\n                        alert.addButton('取消');\n                        alert.addButton({\n                            text: '确定',\n                            handler: data => {\n                                this.table.name = data.toString();\n                                var addpeoplearr = [];\n                                for (let i = 0; i < data.length; i++) {\n                                    for (let x = 0; x < peoplearr.length; x++) {\n                                        if (peoplearr[x].name.indexOf(data[i]) > -1) {\n                                            addpeoplearr.push(peoplearr.splice(x, 1))\n                                        }\n                                    }\n                                }\n                                for (let i = 0; i < addpeoplearr.length; i++) {\n                                    this.table.nameid = addpeoplearr[i][0].id + \",\" + this.table.nameid\n                                }\n                            }\n                        });\n                        alert.present();\n                    } else {\n                        let alert = this.alertCtrl.create({\n                            title: data.msg\n                        });\n                        alert.present();\n                    }\n                }, err => {\n                    let alert = this.alertCtrl.create({\n                        title: err\n                    });\n                    alert.present();\n                })\n            loading.dismiss();\n        })\n    }\n    sub() {\n        console.log(this.table)\n        var x;\n        x = \"&tcpcTrainCondition.traintimeString=\" + this.traintimeString + \"&tcpcTrainCondition.trainway=\" + this.trainway + \"&tcpcTrainCondition.content=\" + this.content\n        let loading = this.loadingCtrl.create({\n            content: '加载中...'\n        });\n        loading.present();\n        let header = new Headers();\n        header.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\n        return new Promise((resolve, reject) => {\n            this.http.post(this.newurl, this.transformAsUrlEncode(this.table) + x, { headers: header })\n                .map(res => res.json())\n                .subscribe(data => {\n                    resolve(data)\n                    console.log(data)\n                    if (data.status) {\n                        let alert = this.alertCtrl.create({\n                            title: \"提交成功\"\n                        });\n                        alert.present();\n                    } else {\n                        let alert = this.alertCtrl.create({\n                            title: data.msg\n                        });\n                        alert.present();\n                    }\n                }, err => {\n                    reject(err)\n                    console.log(err);\n                    let alert = this.alertCtrl.create({\n                        title: '服务器连接失败!'\n                    });\n                    alert.present();\n                })\n            loading.dismiss();\n        })\n    }\n    transformAsUrlEncode(params): string {\n        let urlEncodeParams = \"\";\n        for (let key in params) {\n            if (key == \"imgcode\") {\n                //imgcode参数是app本地使用的参数，且size较大，在上传时将其排除\n                continue;\n            }\n            let param = key + \"=\" + params[key] + \"&\";\n            param = param.replace(/\\+/g, \"%2B\");//base64图片中+号会变空格，处理下\n            urlEncodeParams += param;\n        }\n        return urlEncodeParams;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/activity/activitylist/activitylist.ts"],"sourceRoot":""}