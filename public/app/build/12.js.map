{"version":3,"sources":["../../src/pages/signup/signup.module.ts","../../src/pages/signup/signup.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SignupPage } from './signup';\n\n@NgModule({\n  declarations: [\n    SignupPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SignupPage),\n  ],\n})\nexport class SignupPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, NavController, NavParams, LoadingController, AlertController} from 'ionic-angular';\nimport {Http} from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport {AppConfig} from '../../app/app.config';\n\n/**\n * Generated class for the SignupPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n    selector: 'page-signup',\n    templateUrl: 'signup.html',\n})\nexport class SignupPage {\n    url: string = AppConfig.getUrl() + \"/user/reg\";\n    partyurl: string = AppConfig.getUrl() + \"/user/partys\";\n    positionurl: string = AppConfig.getUrl() + \"/user/positions\";\n    user: any = { loginname: \"\", partyNo: \"\", positionId:\"\", positionName:\"\", pwd: \"\", pwdcheck:\"\"}\n\n    constructor(public navCtrl: NavController, public navParams: NavParams, public http: Http, public loadingCtrl: LoadingController, public alertCtrl: AlertController) {\n    }\n\n    ionViewDidLoad() {\n        console.log('ionViewDidLoad SignupPage');\n    }\n\n    signin() {\n        if (!this.user.loginname || !this.user.partyNo || !this.user.pwd || !this.user.pwdcheck) {\n            let alert = this.alertCtrl.create({\n                title: '请填写全部内容才能进行注册!'\n            });\n            alert.present();\n        } else if (this.user.pwd.length < 5) {\n            let alert = this.alertCtrl.create({\n                title: '密码必须为6位以上!'\n            });\n            alert.present();\n        } else if (this.user.pwd != this.user.pwdcheck) {\n            let alert = this.alertCtrl.create({\n                title: '两次密码不一致，请重新输入!'\n            });\n            alert.present();\n            this.user.pwd = \"\";\n            this.user.pwdcheck = \"\";\n        } else {\n            let loading = this.loadingCtrl.create({\n                content: '加载中...'\n            });\n            loading.present();\n            return new Promise((resolve, reject) => {\n                this.http.post(this.url, null, { params: this.user })\n                    .map(res => res.json())\n                    .subscribe(data => {\n                        loading.dismiss();\n                        resolve(data)\n                        console.log(data)\n                        if (data.status) {\n                            \n                            let alert = this.alertCtrl.create({\n                                title: data.msg||\"注册成功\"\n                            });\n                            alert.onDidDismiss(()=>{\n                                this.navCtrl.pop();\n                            })\n                            alert.present();\n                        } else {\n                            let alert = this.alertCtrl.create({\n                                title: data.msg\n                            });\n                            alert.present();\n                        }\n                    }, err => {\n                        reject(err)\n                        loading.dismiss();\n                        console.log(err);\n                        let alert = this.alertCtrl.create({\n                            title: '服务器连接失败!'\n                        });\n                        alert.present();\n                    })\n            })\n        }\n    }\n    choose(){\n        return new Promise((resolve, reject) => {\n            this.http.get(this.partyurl)\n                .map(res => res.json())\n                .subscribe(data => {\n                    resolve(data);\n                    let alert = this.alertCtrl.create();\n                    alert.setTitle('选择组织');\n                    for (let i = 0; i < data.results.length; i++) {\n                        alert.addInput({\n                            type: 'radio',\n                            label: data.results[i].partyName.replace(\"中共天津市津南区\",\"津南\"),\n                            value: data.results[i].partyNo,\n                        });\n                    }\n\n                    alert.addButton('取消');\n                    alert.addButton({\n                        text: 'OK',\n                        handler: data => {\n                            this.user.partyNo = data\n                        }\n                    });\n                    alert.present();\n                }, err => {\n                    console.log(err);\n                    let alert = this.alertCtrl.create({\n                        title: '服务器连接失败!'\n                    });\n                    alert.present();\n                })\n        })\n    }\n    choose2() {\n        return new Promise((resolve, reject) => {\n            this.http.get(this.positionurl)\n                .map(res => res.json())\n                .subscribe(data => {\n                    resolve(data);\n                    let alert = this.alertCtrl.create();\n                    alert.setTitle('选择岗位');\n                    for (let i = 0; i < data.results.length; i++) {\n                        alert.addInput({\n                            type: 'radio',\n                            label: data.results[i].positionName,\n                            value: data.results[i].positionName +\",\" + data.results[i].id,\n                        });\n                    }\n\n                    alert.addButton('取消');\n                    alert.addButton({\n                        text: 'OK',\n                        handler: data => {\n                            this.user.positionName = data.split(\",\")[0];\n                            this.user.positionId = data.split(\",\")[1];\n                        }\n                    });\n                    alert.present();\n                }, err => {\n                    console.log(err);\n                    let alert = this.alertCtrl.create({\n                        title: '服务器连接失败!'\n                    });\n                    alert.present();\n                })\n        })\n    }\n    signup(){\n        this.navCtrl.pop();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts"],"sourceRoot":""}